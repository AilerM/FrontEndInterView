### 闭包

### 什么是闭包（closure）
>闭包就是指有权访问另一个函数作用域中的变量的函数。
>函数 A 内部有一个函数 B，函数 B 可以访问到函数 A 中的变量，那么函数 B 就是闭包。

### 产生个闭包
>创建闭包最常见方式，就是在一个函数内部创建另一个函数。下面例子中的 closure 就是一个闭包

>通常，函数的作用域及其所有变量都会在函数执行结束后被销毁。但是，在创建了一个闭包以后，这个函数的作用域就会一直保存到闭包不存在为止。
```js
function func(){
  var a = 1,b = 2;
  
  function closure(){
    return a+b;
  }
  return closure;
}
```

>
在javascript中，如果一个对象不再被引用，那么这个对象就会被垃圾回收机制回收； 
如果两个对象互相引用，而不再被第3者所引用，那么这两个互相引用的对象也会被回收。

```js
function makeAdder(x) {
  return function(y) {
    return x + y;
  };
}

var add5 = makeAdder(5);
var add10 = makeAdder(10);

console.log(add5(2));  // 7
console.log(add10(2)); // 12

// 释放对闭包的引用
add5 = null;
add10 = null;
```


### 闭包的应用
>应用闭包的主要场合是：设计私有的方法和变量。


### 闭包的缺陷
>闭包的缺点就是常驻内存会增大内存使用量，并且使用不当很容易造成内存泄露。

>如果不是因为某些特殊任务而需要闭包，在没有必要的情况下，在其它函数中创建函数是不明智的，因为闭包对脚本性能具有负面影响，包括处理速度和内存消耗。

